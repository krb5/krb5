Fri Feb  7 18:56:57 1997  Richard Basch  <basch@lehman.com>

	* prof_int.h:
		Include com_err.h rather than redefining errcode_t
		Structure element "magic" should not be errcode_t

Wed Feb  5 20:18:33 1997  Richard Basch  <basch@lehman.com>

	* profile.hin: Do not process the contents of profile.h
		(or the profile.hin subset) more than once.

	* test_parse.c:
		Do not include "com_err.h" (conflicting errcode_t definition)

	* Makefile.in:
		Fixed typo (all-max -> all-mac)
		Inconsistent colon usage; all-windows needed :: not :

Thu Jan  2 17:36:44 1997  Tom Yu  <tlyu@mit.edu>

	* Makefile.in:
	* configure.in: Update to new library build procedure.

Mon Nov  4 17:04:51 1996  Theodore Y. Ts'o  <tytso@mit.edu>

	* prof_parse.c (parse_std_line): Accept either ';' or '#' on the
		first line of a string as a comment character.

Fri Jul 12 20:28:49 1996  Theodore Y. Ts'o  <tytso@mit.edu>

	* Makefile.in (CFLAGS): On Windows builds, add -DHAVE_STDLIB_H

Mon Jun 24 09:37:26 1996  Theodore Ts'o  <tytso@rsts-11.mit.edu>

	* prof_file.c, prof_init.c, prof_parse.c, prof_section.c,
		prof_tree.c, test_parse.c, test_profile.c, configure.in:
		Only include stdlib.h if it's available.

Thu Jun 13 22:13:51 1996  Tom Yu  <tlyu@voltage-multiplier.mit.edu>

	* configure.in: remove ref to ET_RULES

Mon Jun 10 17:35:02 1996  Theodore Ts'o  <tytso@rsts-11.mit.edu>

	* test_profile.c: Add usage message if not enough arguments.

	* prof_parse.c (dump_profile_to_file, dump_profile): Dump the
 		profile using the correct line terminator for Windows,
 		Macintosh, etc.

	* prof_parse.c:
	* prof_file.c: Change _WINDOWS to _MSDOS, and add check for _WIN32.

	* prof_int.h: Add size #defines for _WIN32.  Handle prototypes
		correctly for _WIN32.

Fri Feb 16 15:18:17 1996    <tytso@rsts-11.mit.edu>

	* prof_int.h: Added comment to profile state structure

Wed Feb 14 16:43:48 1996    <tytso@rsts-11.mit.edu>

	* prof_parse.c (parse_std_line): Make parsing more flexible, so we
		don't barf over lack of spaces around the equals sign.

Tue Dec 12 19:18:14 1995  Mark Eichin  <eichin@cygnus.com>

	* krb5.conf: use host:portnum in example files, not host,portnum.

Fri Jan  5 09:04:20 1996  Ezra Peisach  <epeisach@kangaroo.mit.edu>

	* profile.hin: Add profile_init_path prototype

Thu Dec 21 18:20:46 1995  Theodore Y. Ts'o  <tytso@dcl>

	* configure.in: Check for the stat call, since profile_update_file
		needs to know whether it exists.  (It doesn't on the Mac.)

	* prof_file.c (profile_update_file): Change use of HAS_STAT to
		HAVE_STAT, to confirm with autoconf test.  If the stat()
		call does not exist, assume that our in-core memory image
		is correct, and never re-read the profile file unless we
		explicitly close it.

Fri Oct  6 22:07:01 1995  Theodore Y. Ts'o  <tytso@dcl>

	* Makefile.in: Remove ##DOS!include of config/windows.in.
		config/windows.in is now included by wconfig.

Mon Oct  2 16:39:49 1995  Ezra Peisach  <epeisach@kangaroo.mit.edu>

	* prof_init.c (profile_init_path): Add const declarations.

Tue Sep 26 20:00:28 1995  Mark Eichin  <eichin@cygnus.com>

	* prof_init.c (profile_init_path): takes a single string entry
	that has pathnames seperated by colons, and splits it into
	file names for profile_init. No provision for quoting colons in
	pathnames, but shells don't solve that either.

Tue Sep 26 19:23:59 1995  Mark Eichin  <eichin@cygnus.com>

	* prof_init.c (profile_init): handle multiple input files by
	grabbing the first one that doesn't return ENOENT.

Mon Sep 25 16:42:13 1995  Theodore Y. Ts'o  <tytso@dcl>

	* Makefile.in: Removed "foo:: foo-$(WHAT)" lines from the
		Makefile. 

Fri Sep 22 19:51:44 1995  Theodore Y. Ts'o  <tytso@dcl>

	* prof_int.h: added SIZEOF defines for the PC, and added missing
		prototype for profile_find_node_name()

	* prof_init.c (profile_get_first_values): Remove unused variables.

Mon Sep 11 15:30:52 1995  Ezra Peisach  <epeisach@kangaroo.mit.edu>

	* prof_parse.c (dump_profile_to_file): Convert C+ comment to
		standard C one.

Tue Aug 29 14:23:16 EDT 1995	Paul Park	(pjpark@mit.edu)
	* configure.in - Add checks for size of short, int and long.
	* prof_init.c - Add routines to serialize profile context.

Tue Aug 15 17:17:40 1995  Ezra Peisach  <epeisach@kangaroo.mit.edu>

	* prof_parse.c (strip_line,parse_line): Declare as static.

	* prof_int.h: Add missing prototypes

Thu Jul  6 10:05:47 1995  Ezra Peisach  <epeisach@kangaroo.mit.edu>

	* prof_file.c: prof_int.h must be included after stdio.h

Wed July 5 15:52:31 1995  James Mattly  <mattly@fusion.com>
	* prof_file.c added conditionals for sys/*.h include files
	* prof_int.h added _MACINTOSH conditional
	* test_parse.c added _MACINTOSH conditional

Fri Jun  9 19:00:19 1995    <tytso@rsx-11.mit.edu>

	* configure.in: Remove standardized set of autoconf macros, which
		are now handled by CONFIG_RULES.

Thu Jun  8 17:56:34 1995    <tytso@rsx-11.mit.edu>

	* Makefile.in (install): Add install target.

Fri May 26 20:07:13 1995  Theodore Y. Ts'o  (tytso@dcl)

	* configure.in, Makefile.in: Add support for building shared libraries.

Sat May  6 17:21:59 1995  Ezra Peisach  <epeisach@kangaroo.mit.edu>

	* test_parse.c: Include prof_int.h - this program relies on
		internal functions.

Fri May  5 00:02:41 1995  Theodore Y. Ts'o  (tytso@dcl)

	* prof_init.c (profile_get_values): Return PROF_NO_PROFILE if the
		passed-in profile variable is NULL (instead of core dumping).
	
	* prof_err.et (PROF_NO_PROFILE): Defined new error code.

Thu May  4 23:57:56 1995  Theodore Y. Ts'o  (tytso@dcl)

	* prof_tree.c (profile_free_node): Copy child->next to a scratch
		pointer before freeing the node; otherwise we have to
		dereference a freed object.

Fri Apr 28 15:54:40 1995  Theodore Y. Ts'o  <tytso@dcl>

	* prof_parse.c (strip_line): Don't try to strip an empty line.
		This causes memory reference error.

Thu Apr 27 20:26:48 1995    <tytso@rsx-11.mit.edu>

	* Makefile.in (clean-unix): Remove profile.h and test_profile

Thu Apr 27 15:36:27 1995  Mark Eichin  <eichin@cygnus.com>

	* test_parse.c (main): can't make function declarations local to
	functions under SunOS cc. (dump_profile) Also needs to be protected.

Thu Apr 27 10:43:24 1995 Keith Vetter (keithv@fusion.com)

	* Makefile.in: made to work on the PC.
	* profile.hin, prof_int.h: use _MSDOS instead of _WINDOWS 
	   so we can compile DOS test programs.
	* *.c: Don't need to include file unistd.h.
	* test_*.c: Made to work under DOS--used stubs for the com_err stuff.
	* prof_parse.c: Turned a 2k automatic array into a malloc'ed block
	   because windows dll's shouldn't use up a lot of stack space.

Wed Apr 26 09:54:18 1995  Ezra Peisach  <epeisach@kangaroo.mit.edu>

	* profile.hin: Only define PROTOTYPE if it is undefined.

Tue Apr 25 17:28:48 1995  Ezra Peisach  <epeisach@kangaroo.mit.edu>

	* configure.in: Add AC_CONST for platforms that do not support const.

Mon Apr 24 17:05:27 1995  Ezra Peisach  <epeisach@kangaroo.mit.edu>

	* Makefile.in (all): Use ARADD to facilitate incremental
	rebuilding of library.

	* configure.in: Add AC_PROG_ARCHIVE_ADD

	* prof_init.c (profile_get_values): If profile is null return
	NULL.

Sat Apr 22 01:25:58 1995  Theodore Y. Ts'o  (tytso@dcl)

	* Makefile.in: Rename profile.h.in to profile.hin to, make things
		easier for systems with an 8.3 filesystem.

