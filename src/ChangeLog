Mon Jun 17 18:34:10 1996  Tom Yu  <tlyu@voltage-multiplier.mit.edu>

	* aclocal.m4 (CHECK_DB): explicitly set $LIBS before calling
		AC_CHECK_DBM_PROTO so that if a dbm lib is found it is
		linked against while checking for function existence.
		This may need some more testing.

Fri Jun 14 13:10:26 1996  Sam Hartman  <hartmans@mit.edu>

	* aclocal.m4 (USE_KRB4_LIBRARY)): Include appropriate include
 	files for the krb4 library we are actually using.  This way,
 	KEYFILE is a constant string if we are using Athena Kerberos libs.
	(LDFLAGS): Force TOPLIBD to be expanded in the configure script
 	for LDFLAGS, so they are valid for autoconf AC_HAVE_FUNCS
	tests. Note you cannot actually use libraries out of the top level
	library directory; this just gets around some gcc complaints with
	$(TOPLIBD) not being a bvalid path.

Thu Jun 13 23:03:03 1996  Tom Yu  <tlyu@voltage-multiplier.mit.edu>

	* aclocal.m4: break some stuff out into pre.in and post.in in
		preparation for doing away with PUSH_MAKEFILE cruft


Wed Jun 12 15:27:14 1996  Ezra Peisach  <epeisach@kangaroo.mit.edu>

	* aclocal.m4 (AC_CHECK_DBM_PROTO): Correct to use correct cache
		variable in test.

Wed Jun 12 19:41:12 1996  Tom Yu  <tlyu@voltage-multiplier.mit.edu>

	* aclocal.m4: use new AC_OUTPUT syntax for constructing
		Makefile.tmp

Wed Jun 12 00:23:51 1996  Theodore Ts'o  <tytso@rsts-11.mit.edu>

	* Makefile.in (makefile-windows): Build the makefiles for
		windows/cns, windows/gss, and windows/wintel.  Add
		definition of BUILDTOP when building for DOS, since it's
		needed for $(RM) to work.  When creating ./Makefile under
		Unix, run things through sed to strip out ##DOS from the
		beginning of lines.

Mon Jun 10 17:11:45 1996  Theodore Ts'o  <tytso@rsts-11.mit.edu>

	* wconfig.c: Revamp program to make it more extensible.  Now will
 	 	uncomment lines that begin "##DOS##" as well as
 	 	"##WIN16##" or "##WIN32##", depending on whether we are
	 	compiling on a Windows 16 or Windows 32 environment.
		Also, we now perform this transformation on the windows.in
	 	and win-post.in files as well.

Sat Jun  8 10:01:11 1996  Ezra Peisach  <epeisach@kangaroo.mit.edu>

	* aclocal.m4: Remove WITH_KDB4 and USE_KDB4_LIBRARY support

Fri Jun  7 17:39:45 1996  Theodore Y. Ts'o  <tytso@mit.edu>

	* Makefile.in (makefile-windows): Use full directory
		name "error_tables" when building under Windows so that
		the build will work correctly under VFAT and NTFS
		filesystems.  Build the "makefile" file so that it
		includes config/win-post.in.
		
Thu Jun  6 00:04:38 1996  Theodore Y. Ts'o  <tytso@mit.edu>

	* Makefile.in (all-windows): Don't pass $(LIBCMD) on the command
		line.  It's set in the windows.in prologue for all Makefiles anyway.

	* patchlevel.h (KRB5_MINOR_RELEASE): Update patchlevel for Beta 6 release.

	* Makefile.in (FILES): Include lib/crypto/sha/* in list of files
		to be built for Windows and the Macintosh.
		(makefile-windows): Build lib/crypto/sha/makefile for Windows

Tue Jun  4 12:00:25 1996  Theodore Ts'o  <tytso@rsts-11.mit.edu>

	* aclocal.m4 (KRB5_LIBRARIES): Always do USE_ANAME if kdbm_deplib
		is not defined, since in shared library situations we may
		need to resolve all undefined symbols.  (We don't do
		USE_ANAME if kdbm_deplib is defined because the db library
		used for kdb may be different from the one used for the
		aname work.  This is a bit of an ugly botch, but it will
		work for now.)

Wed May 29 18:39:21 1996  Tom Yu  <tlyu@mit.edu>

	* aclocal.m4 (AC_CHECK_DBM_PROTO): sense of arguments to be
		evaluated was reversed

Mon May 20 17:56:15 1996  Theodore Ts'o  <tytso@rsts-11.mit.edu>

	* aclocal.m4 (CHECK_DB): Remove vestigal support for ODBM.  

Tue May 14 21:56:08 1996  Ezra Peisach  <epeisach@kangaroo.mit.edu>

	* aclocal.m4 (AC_CHECK_DBM_PROTO): Arguments were not executed if
		using cached results.

Tue Apr 30 23:25:07 1996  Ken Raeburn  <raeburn@cygnus.com>

	* Makefile.in (tgz-bin, pkgdir): New targets.
	(PKGDIR, GZIPPROG): New variables.

	* aclocal.m4 (WITH_NETLIB): Don't look for socket lib on Irix.

	* aclocal.m4 (MAKE_SUBDIRS): Disable hack that tries to determine
	if "-k" or "-i" was given.

Wed Apr 24 03:49:06 1996  Ezra Peisach  <epeisach@kangaroo.mit.edu>

	* aclocal.m4 (V5_USE_SHARED_LIB): Remove another dependency in the
		executables on the build tree.

Wed Apr 17 13:24:02 1996  Theodore Y. Ts'o  <tytso@mit.edu>

	* .Sanitize: Removed kadmin.old from list of things to keep.

Fri Mar 29 12:40:59 1996  Richard Basch  <basch@lehman.com>

	* configure.in: Added SunOS shared library support

Tue Mar 19 22:40:59 1996  Richard Basch  <basch@lehman.com>

	* configure.in: do not bother with kadmin.old

Mon Mar 18 21:33:15 1996  Ezra Peisach  <epeisach@kangaroo.mit.edu>

	* aclocal.m4 (KRB5_RUN_FLAGS): Allows for setting of proper paths
		for executing programs in the build tree with proper
		overriding of potentially installed libraries.

	* configure.in: Setup for KRB5_RUN_FLAGS

Fri Mar 15 01:45:54 1996  Tom Yu  <tlyu@dragons-lair.MIT.EDU>

	* aclocal.m4 (V5_OUTPUT_MAKEFILE): nuke some redundant sed rules
		and also make sure that SRCTOP doesn't get a leading "./".

Thu Mar 14 02:00:10 1996  Tom Yu  <tlyu@dragons-lair.MIT.EDU>

	* aclocal.m4 (V5_OUTPUT_MAKEFILE): most seds don't deal with
		"s/\(regex\)*/foo/", so use a loop instead to get rid of
		extraneous "./" occurences.  Do we want srctop and
		buildtop to have leading "./"s?  They do currently.  Is
		this a bug?

Sun Mar 10 23:49:19 1996  Mark W. Eichin  <eichin@cygnus.com>

	* aclocal.m4 (KRB5_SIGTYPE): quote the body correctly, so the test
	happens when it should.

Tue Mar 12 18:04:32 1996  Ken Raeburn  <raeburn@cygnus.com>

	* aclocal.m4 (V5_MAKE_SHARED_LIB): If the cache variables for
	selecting shared v. archive library support haven't been set,
	complain, instead of generating a broken Makefile.
	(WITH_CC): Default to value from cache, if available.  If it
	differs from name supplied on command line, complain.  When not
	using a value from the cache, verify that it's a working compiler
	before proceeding.  At end, use AC_PROG_CC to see if it's gcc
	we're using.
	(SubdirLibraryRule): Make DONE depend on Makefile.in, so it
	doesn't keep getting regenerated in the case of no object files.
	(CHECK_WAIT_TYPE): Make sure that union wait is acceptable to
	WEXITSTATUS if that macro is defined.

	* aclocal.m4 (V5_SET_TOPDIR): Don't substitute BUILDTOP, SRCTOP.
	(CONFIG_RULES): In makefile dependencies, use $(thisconfigdir).
	(V5_AC_OUTPUT_MAKEFILE): If arguments are given, treat as
	directories and build pre/Makefile/post in each.  Set
	thisconfigdir, SRCTOP, BUILDTOP separately in each directory.
	Tweak Makefile dependencies appropriately.

	* aclocal.m4 (AC_HEADER_STDARG): New macro.  Try compiling some
	sources with variadic functions; set HAVE_STDARG_H or
	HAVE_VARARGS_H, or bomb.
	* acconfig.h (HAVE_STDARG_H, HAVE_VARARGS_H): Undef.

Wed Feb 28 00:00:55 1996  Theodore Y. Ts'o  <tytso@dcl>

	* Makefile.in: Modify windows build procedure to include the
		gssapi/mechglue directory.

Sat Feb 24 19:07:15 1996  Theodore Y. Ts'o  <tytso@dcl>

	* configure.in: Add support for shared libraries under HPUX and
	        Sinix (SysVR4 under mips)

Wed Feb 21 23:31:09 1996  Richard Basch  <basch@lehman.com>

	* aclocal.m4:
		- Do not include build directories in the runtime libpath
		- Fixed the prefix of some cache variables (krb_ --> krb5_)

Wed Feb  7 00:22:26 1996  Theodore Y. Ts'o  <tytso@dcl>

	* Makefile.in (krbsrc.mac): Folded in danw's changes to allow
		building Makefiles for the Macintosh.  We now can build
		MPW makefiles which are interpreted by CodeWarrior.

Mon Jan 22 07:55:04 1996  Ezra Peisach  <epeisach@kangaroo.mit.edu>

	* aclocal.m4 (KRB5_CHECK_PROTOS): Move prototype checking code
		from include/krb5. 

	* configure.in: Add in WITH_ANAME_DB and WITH_KDB_DB so that top
		level configure --help lists options.

	* aclocal.m4 (CHECK_DB): Fix m4 quoting to allow for the autoconf
		rules to insert the required CPP determination rules
		automatically. 
		(WITH_ANAME_DB): Add missing comma. Fix up spacing so
				configure --help looks pretty.

Mon Jan 15 02:35:02 1996  Mark Eichin  <eichin@cygnus.com>

	* aclocal.m4 (WITH_DBM_LNAME): add --with-dbm-lname for callers of
	an_to_ln routines that have USE_DBM_LNAME set.
	* aclocal.m4 (WITH_DBM_KDB): avoid duplicating --with-dbm code all
	over the place.

Sun Dec 17 19:53:54 1995  Ezra Peisach  <epeisach@kangaroo.mit.edu>

	* acconfig.h: Add blank line to work around a misfeature of
		DecUnix fgrep interacting with autoheader.

Tue Dec 12 01:30:36 1995  Chris Provenzano (proven@mit.edu)

	* TODO: Done: keytab routines to access to database.
		Todo: Create a real krb5_db_context after 1.0

Tue Dec  5 20:48:56 1995  Ezra Peisach  <epeisach@kangaroo.mit.edu>

	* aclocal.m4 (kutil_lib): Add USE_KRB5UTIL_LIBRARY. Change
		library link order to -lkrb4 -lkrb5.

Sun Nov 12 04:40:02 1995  Mark W. Eichin  <eichin@cygnus.com>

	* Makefile.in (install-mkdirs): bash needs a semicolon between fi
	and done.

Thu Nov 09 17:04:02 1995  Chris Provenzano (proven@mit.edu)

	* TODO : Remove krb5_enctype argument from string_to_key() is done.

Thu Nov  2 16:57:45 1995    <tytso@rsx-11.mit.edu>

	* configure.in: Added support for Linux shared libraries.

Sat Oct 21 15:03:06 1995  Ezra Peisach  <epeisach@kangaroo.mit.edu>

	* configure.in (CONFIG_DIRS): Add config-files to list of
	directories. 

Wed Oct 11 17:23:45 1995  Sam Hartman  <hartmans@tertius.mit.edu>

	* configure.in: For all platforms, set krb5_cv_shlibs_versioned_filenames; no for AIX, yes for all others

	* aclocal.m4 (v5_make_shlib): Add ability not to make versioned archive files for AIX

Tue Oct 10 21:43:15 1995  Theodore Y. Ts'o  <tytso@dcl>

	* wconfig.c: Use win-post.in instead of post.in.

Mon Oct  9 18:58:34 1995  Ezra Peisach  <epeisach@kangaroo.mit.edu>

	* configure.in: For NetBSD turn back on shlibs_use_dirs

Fri Oct  6 00:57:25 1995  Theodore Y. Ts'o  <tytso@dcl>

	* wconfig.c: Include the file windows.in instead of pre.in

	* Makefile.in (ekrbsrc.mac): Build the list of files *after*
		building files using awk-windows-mac.

Sat Sep 30 04:34:51 1995  Ezra Peisach  <epeisach@kangaroo.mit.edu>

	* aclocal.m4 (DO_SUBDIRS): Add make Makefiles for broken versions
			of make.
		     (V5_MAKE_SHARED_LIB): Changes to support version
		     	     numbering and library installation.

	* configure.in: change shlib extentsion for netbsd and dirhead
		rules to allow for shared library path to be included in
		executable. 

Fri Sep 29 01:39:35 1995  Theodore Y. Ts'o  <tytso@dcl>

	* Makefile.in (awk-windows-mac): Copy stock/osconf.h to osconf.h
		in include/krb5, and clean it up when we're done building
		the distribution.

Thu Sep 28 16:00:00 1995  John Rivlin  <jrivlin@fusion.com>

	* Makefile.in: Added mac/gss-sample to tar file.

Wed Sep 27 00:53:08 1995  Theodore Y. Ts'o  <tytso@dcl>

	* Makefile.in: Add config/windows.in to the beginning of the
		Makefile.in when we're building the Makefile.

	* Makefile.in: New scheme for building DOS and Macintosh
		distribution files; much more forgiving of random cruft in
		the source tree.

Wed Sep 27 16:00:00 1995  John Rivlin  <jrivlin@fusion.com>

	* Makefile.in: Temporarily move autoconf.h file to include
		directory while creating kerbsrc.mac tar file.

	* Makefile.in: Include telnet-k5-auth directory in download.
		Eliminate telnet directory.

Wed Sep 27 11:47:38 1995  Ezra Peisach  <epeisach@kangaroo.mit.edu>

	* Makefile.in (install-unix): Changed install to install-unix so
		that the installation directories are created first.

Mon Sep 25 16:32:57 1995  Theodore Y. Ts'o  <tytso@dcl>

	* Makefile.in: Removed "foo:: foo-$(WHAT)" lines from the
		Makefile. 
		(FILES): Added missing backslash at the end of one of the
		lines, missing from the Macintosh integration.

	* aclocal.m4 (MAKE_SUBDIRS, DO_SUBDIRS): MAKE_SUBDIRS now takes
		three arguments; DO_SUBDIRS now generates target rules of
		the form: "foo-unix: <for each subdirectory> make foo".
		All of the macros which generated targets "all",
		"install", "clean", etc. now generate targets "all-unix",
		"install-unix", "clean-unix".  

		This scheme allows us to do multiple-platform builds,
		while preserving ordering constraints that we need in
		order to build library subdirectories correctly.

Sun Sep 24 12:00:00 1995  John Rivlin <jrivlin@fusion.com>

	* Makefile.in: Update CLEANUP list to clean up files created
		in the include directory rather than include/krb5
		directory.  Remove mac/build directory.

Fri Sep 22 19:39:30 1995  Theodore Y. Ts'o  <tytso@dcl>

	* Makefile.in: Exclude the MAC and DOS tar/zip files when creating
	        the Mac tar file.  Adjust the windows NT exclusion file so
		that it works correctly; zip is a little bit touchy about
		file specifications.

	* Makefile.in (awk-windows-mac): Build the error table header
		files into include, not include/krb5; and construct krb5.h
		from krb5.hin and the error table header files.

Fri Sep 15 05:05:15 1995  Theodore Y. Ts'o  <tytso@dcl>

	* Makefile.in (kerbsrc-nt.zip): Update production rule to be like
		the modified kerbsrc.zip rule.

Tue Sep 12 22:06:24 1995  John Rivlin (jrivlin@fusion.com)

	* Makefile.in: Added telnet to Mac file list

Mon Sep 11 22:06:24 1995  Ezra Peisach  <epeisach@kangaroo.mit.edu>

	* Makefile.in: Update macintosh/dos file lists

Thu Aug 24 19:27:04 1995  Theodore Y. Ts'o  <tytso@dcl>

	* .Sanitize: Update file list

Tue Aug 22 18:19:39 1995    <tytso@rsts-11.mit.edu>

	* aclocal.m4 (_MAKE_SUBDIRS): Change subdir recursion so that 
		a missing subdirectory is skipped.  

Mon Aug 21 16:42:42 EDT 1995	Paul Park	(pjpark@mit.edu)

	* Makefile.in - Change mkdir to mkdir -p.

Tue Aug 15 16:19:29 1995  Ezra Peisach  <epeisach@kangaroo.mit.edu>

	* configure.in: For OSF/1 specify that the -rpath directive takes
		a colon separated path.

	* aclocal.m4 (SHLIB_RPATH_DIRS): Allow for directory path to be
		colon separated for different directories.


Tue Aug 15 01:37:19 1995  Tom Yu  <tlyu@dragons-lair.MIT.EDU>

	* Makefile.in: Change some spaces back to tabs

Mon Aug  7 19:26:06 1995  Theodore Y. Ts'o  <tytso@dcl>

	* aclocal.m4 (SS_RULES): Add double quotes around "$}{*.ct"

	* aclocal.m4 (CONFIG_RULES): Add $(SHELL) to invocation of
		autoconf, so that things work even if the execute bit
		isn't set on the shell script.

Tue Jul 18 19:20:49 1995  Ezra Peisach  <epeisach@kangaroo.mit.edu>

	* aclocal.m4 (KRB5_SOCKADDR_SA_LEN): Add space before = to keep
		shell happy. 

Sun Jul 16 05:02:41 1995  Sam Hartman  <hartmans@tertius.mit.edu>

	* aclocal.m4 : Defined KRB5_SOCKADDR_SA_LEN, a test to determine
        if sockaddr has the sa_len field.  

Wed Jul 12 11:47:43 EDT 1995	Paul Park	(pjpark@mit.edu)
	* aclocal.m4 - Add LDFLAGS setting to KRB5_LIBRARIES.  This allows
		building without using the rule V5_USE_SHARED_LIBS.  Also,
		don't pass LDFLAGS in recursion because this overrides
		the values in individual Makefiles.

Sun Jul  9 06:15:33 1995  Tom Yu  <tlyu@lothlorien.MIT.EDU>

	* aclocal.m4: backslash '$' characters that go into double-quoted
		strings so shells that treat $(foo) like `foo` won't barf

Sun Jul  9 01:31:25 1995  Tom Yu  <tlyu@dragons-lair.MIT.EDU>

	* Makefile.in: remove bogus definitions of prefix, etc.

Fri Jul 7 15:29:43 EDT 1995	Paul Park	(pjpark@mit.edu)
	* aclocal.m4 - Add ability to set LDFLAGS from --with-ldopts (I know,
		configure option doesn't coincide with make variable, but it
		corresponds to --with-ccopts).
		- Add ability to select libraries to link with from configure
		script.  This prevents us from having to change every makefile
		each time there's a library reorganization.  These macros are
		USE_{KADM,KDB5,KDB4,KRB4}_LIBRARIES and KRB5_LIBRARIES.
		Makefiles now only need to reference $(LIBS) for the list of
		libraries to link with and $(DEPLIBS) for the list of
		library dependencies.

Wed Jul  5 12:00:00 1995 James Mattly <mattly@fusion.com> 

	* Makefile.in: Added kerbsrc.mac target to facilitate easy 
	downloading pruned source tree to the Mac.

Tue Jul  4 02:11:14 1995  Tom Yu  <tlyu@lothlorien.MIT.EDU>

	* configure.in: Add support for NetBSD shared libraries.

Sun Jul  2 20:25:58 1995  Sam Hartman  <hartmans@tertius.mit.edu>

	* configure.in: For paranoid GPL reasons, don't take the Gcc test
        directly from the autoconf sources.  Instead, borrow my paraphrase
        of this test from util/configure.in.  It's slightly cleaner
        anyway.  Also, adjust AIX shared libs to work with Gcc.

Sun Jul  2 04:40:50 1995  Tom Yu  <tlyu@lothlorien.MIT.EDU>
	* aclocal.m4 (_MAKE_SUBDIRS): Fixed so that error propogates
		upward if -[ik] not specified.

	* aclocal.m4 (SubdirLibRule): don't recreate DONE if list of objs
		is null to avoid re-making lotsa stuff.
		(_MAKE_SUBDIRS): really gross sh hack for subdir
		recursion; make -[ik] should dtrt now even with broken
		makes (like Ultrix) that do sh -ce "rule".  Basically,
		throw an "if" test around the recursion line so that even
		if the -e option to sh is set by make, an error in a
		subdir below won't cause for loop to exit unless we want
		it to.

Fri Jun 30 14:26:01 EDT 1995	Paul Park	(pjpark@mit.edu)
	* aclocal.m4(V5_SHARED_LIB_OBJS) - Change explicit $(srcdir)/$*.c to
		$< so that sources which aren't in the source directory can
		get compiled correctly.

Wed Jun 28 20:13:10 1995  Ezra Peisach  <epeisach@kangaroo.mit.edu>

	* configure.in: Proper test for GCC. (based on autoconf test).  
	 	If using gcc, set shlibs_ldflag and noshlibs_ldflag
		properly for compiler. (for OSF at least - may be more
		generic). 

Wed Jun 28 17:07:08 1995  Theodore Y. Ts'o  <tytso@dcl>

	* aclocal.m4 (KRB_INCLUDE): Search the build directories before
		the source directories.  (Doesn't hurt anything, and it
		helps in a few cases of user error.)

	* configure.in: Conditionalize on the name of CC to determine
		whether to use the gcc or suncc flags for shared
		libraries.  (This is a little bit ugly; we might want to
		use a better test later on.)

Wed Jun 28 10:43:10 1995    <tytso@rsx-11.mit.edu>

	* aclocal.m4 (INSTALL_VARIABLE_HACKSRCTOP): Work around bug in
		autoconf which causes a relative path for dnl
		AC_PROG_INSTALL to be cached.  We workaround this by
		unsetting the cache variable if it contains a relative
		pathname.

Tue Jun 27 16:28:23 EDT 1995	Paul Park	(pjpark@mit.edu)
	* acconfig.h - Reinstate KRB5_PROVIDE_PROTOTYPES.  This is needed
		for compilers which recognize prototypes but don't set
		__STDC__ or _WINDOWS.

Fri Jun 23 20:14:45 1995  Sam Hartman  <hartmans@tardis.MIT.EDU>

	* aclocal.m4 (SHARED_RULE_LOCAL): Use makeshlib out of
        $(BUILDTOP)/util not $(SRCTOP)/util since it moved.

	* configure.in: Include appropriate binder option to set LIBPATH
        correctly in generated executables.

Thu Jun 22 16:15:10 1995  Tom Yu  (tlyu@dragons-lair)

	* acconfig.h: NO_NESTED_PROTOTYPES -> KRB5_NO_NESTED_PROTOTYPES;
		KRB5_PROVIDE_PROTOTYPES -> KRB5_NO_PROTOTYPES

Fri Jun 23 12:13:22 1995  Sam Hartman  <hartmans@tardis.MIT.EDU>

	* configure.in: Enable static library generation for Linux.

Fri Jun 23 11:48:04 1995  Ezra Peisach  (epeisach@kangaroo.mit.edu)

	* aclocal.m4 (V5_MAKE_SHARED_RULE) Set STEXT when not making
		shared library.
		(CONFIG_RULES): Move AC_CONST from WITH_KRB4 definition. 

Wed Jun 21 18:10:40 1995  Theodore Y. Ts'o  <tytso@dcl>

	* aclocal.m4 (V5_SET_TOPDIR): Replace AC_CONFIG_FRAGMENTS,
		AC_CONFIG_FRAGMENTS_DEFUALT, AC_SET_BUILDTOP,
		AC_CONFIG_AUX_DIR_DEFAULT with V5_SET_TOPDIR.  This sets
		up the correct variables for the top of the source tree
		and the top of the build tree.  It currently depends on
		AC_LOCALDIR being a relative pathname, but that's a safe
		assumption to make.  (And we could fix it to be more
		general if we really needed to.)

		Removed AC__CONFIG_AUX since it doesn't seem to be used at all.

Wed Jun 21 18:03:40 1995  Tom Yu  (tlyu@dragons-lair)

	* aclocal.m4: undefine AC_CONFIGF_AUX_DIR_DEFAULT before
		redefining it to avoid diversion madness

Wed Jun 21 17:38:34 1995  Ezra Peisach  <epeisach@kangaroo.mit.edu>

	* aclocal.m4: Add KRB5_SIGTYPE (taken from include/krb5) so that
		other applications may use defintion. 


Wed Jun 21 16:10:09 1995  Sam Hartman  <hartmans@tardis.MIT.EDU>

	* aclocal.m4 (SHARED_RULE_LOCAL): Add support for not making
        static libs.  Moves the clean and all target for shared libs in
        shared lib Makefiles into this rule instead of Makefile.in

	* configure.in: Added krb5_cv_noshlibs_ext, the extension for
        static libraries that have shared counterparts.  Also added
        krb5_cv_staticlibs_enabled, (set by the code for --enable-shared,
        not by any extra option) to determine whether static versions of
        shared libs are compiled on a per-platform basis.


 Wed Jun 21 14:57:55 1995    <tytso@rsx-11.mit.edu>

	* aclocal.m4: Removed extra blank lines and added "dnl" to the end
		of some macro definitions to get rid of extra newlines
		added at the beginning of configure scripts.

Tue Jun 20 12:23:20 1995  Tom Yu  (tlyu@dragons-lair)

	* BADSYMS: Updated after finding bugs in getsyms

Mon Jun 19 11:23:47 1995  Tom Yu  (tlyu@dragons-lair)

	* BADSYMS: list of bad symbols found in various source files;
		generated by util/getsyms

Sun Jun 18 20:57:35 1995  Theodore Y. Ts'o  <tytso@lurch.mit.edu>

	* aclocal.m4: Must protect $(FOO) with a backslash, since $(FOO)
		is specially interpreted by bash (and Korn shells).

Fri Jun 16 00:45:03 1995  Tom Yu  (tlyu@dragons-lair)

	* aclocal.m4: ARCHIVE gets a "cqv" to shut it up about the warning

	* aclocal.m4: Fix new append.out stuff to work with config.status
		properly; previously append.out was not getting sucked
		into the body of config.status.  The EXTRA_RULES macros
		are deprecated and should not be used anymore.

	* aclocal.m4: people were using AC_DIVERSION_MAKEFILE inside
		conditionals, not realizing that it would not end up
		conditionalized.  Define a new macro AC_PUSH_MAKEFILE,
		along with AC_POP_MAKEFILE, to stuff things into a tmp
		file (append.out) to unconfuse things.

Thu Jun 15 21:59:22 1995  Ezra Peisach  <epeisach@kangaroo.mit.edu>

	* aclocal.m4 (V5_USE_SHARED_LIB): Quote arguments to test in
		case the values are blank.

Thu Jun 15 18:15:54 EDT 1995	Paul Park	(pjpark@mit.edu)
	* aclocal.m4 - Separate K4 libraries; Separate library specification
		from actual library path so we can do a dependency check
		using the DEP_<lib> and link with the library itself.
		- Add LinkFileDir(): a macro which generates a symlink in
		  another directory.
		- Figure out values for shared library parameters.
		- Add rules for building with these shared libraries.
	* configure.in - Add system-specific linker flags.

Wed Jun 14 16:51:28 1995  Tom Yu  (tlyu@dragons-lair)

	* aclocal.m4(_MAKE_SUBDIRS): revert yet again; no workaround since
		subshells inherit "-e" flag.  Ultrix sucks.

	* aclocal.m4 (_MAKE_SUBDIRS): "-@" was the wrong answer; set a
		shell variable "e" to "exit 0" and execute it after the
		make in each subdirectory

Tue Jun 13 01:44:12 1995  Tom Yu  (tlyu@dragons-lair)

	* aclocal.m4 (CopySrcHeader): do a set -x before mkdir
		_MAKE_SUBDIRS: inserted a "-@" rather than a "@" at the
		beginning of the rule; Ultrix make does /bin/sh -e
		ruleline if it's not there, and set +e doesn't work.

Sat Jun 10 08:14:22 1995  Ezra Peisach  <epeisach@kangaroo.mit.edu>

	* acconfig.h: Removed HAS_ANSI_CONST, HAS_ANSI_VOLATILE,
		HAS_SYS_FILE, HAS_SYS_PARAM_H, TM_IN_SYS_TIME.
		include/krb5/configure.in does not check for these.

Fri Jun  9 18:01:26 1995    <tytso@rsx-11.mit.edu>

	* aclocal.m4 (CONFIG_RULES): CONFIG_RULES now contains the
		standardized autoconf macros which all configure.in files
		will include.  

		Removed WITH_KRB5ROOT, since it's no longer used.

		Change name of standardized Kerberos V4 #ifdef variable
		from KRB4 to KRB5_KRB4_COMPAT.  KRB4 was already in use in
		the POP clients.

		Added a new macro rule, DO_SUBDIRS, which includes all of
		the MAKE_SUBDIRS macros.  This makes it easier to add
		global recursive targets to the tree.

	* configure.in: Remove standardized set of autoconf macros, which
		are now handled by CONFIG_RULES.

Thu Jun  8 17:42:40 1995    <tytso@rsx-11.mit.edu>

	* Makefile.in: Remove excess definitions of prefix, exec_prefix,
		etc. (defined in config/pre.in)

Wed Jun  7 16:10:22 1995    <tytso@rsx-11.mit.edu>

	* Makefile.in (INSTALLMKDIRS): Make sure that the
		$(INSTALL_PREFIX) directory exists, not $(KRB5ROOT).

Tue Jun  6 12:38:12 1995  Theodore Y. Ts'o  (tytso@dcl)

	* configure.in: Build the krb524 directory.

Tue May 30 18:53:56 1995 Keith Vetter (keithv@fusion.com)

	* Makefile.in: removed des425 stuff for Windows.

Fri May 26 21:45:50 1995  Theodore Y. Ts'o  (tytso@dcl)

	* configure.in: Export $(CC) for the benefit of config.guess

	* Makefile.in: Create kerbsrc-nt.zip with the right filename, and
		clean up include/krb5.h after making the Windows .zip files.

Fri May 26 15:33:12 1995 Keith Vetter (keithv@fusion.com)

	* wconfig.c: extended so it ignores lines beginning with '@'.

Fri May 26 10:16:02 1995 Keith Vetter (keithv@fusion.com)

	* Makefile.in: added lib/kadm and deleted lib/krb425 from PC stuff.

Thu May 25 11:30:00 1995 Keith Vetter (keithv@fusion.com)

	* Makefile.in: don't copy profile.h here but do it in include/makefile.

Tue May 23 15:39:40 1995  Theodore Y. Ts'o  (tytso@dcl)

	* Makefile.in: Generate krb5.h from krb5.hin in awk-windows, for
		the Windows port.

		Added kerbsrc-nt.zip, which creates the zip file without
		the option to truncate the names to the MS-DOS 8.3
		convention. 

Tue May 16 03:05:30 1995  Tom Yu  (tlyu@dragons-lair)

	* aclocal.m4 (_MAKE_SUBDIRS): fix rule so that MAKEFLAGS gets
		processed correctly.

Fri May  5 01:50:08 1995  Theodore Y. Ts'o  (tytso@dcl)

	* patchlevel.h: Update patchlevel for BETA 5 release

	* Makefile.in: Remove all files in ZIPCLEANUP after building
		kerbsrc.zip.  This keeps the source directory clean after
		building a Windows source distribution.

		Remove miscellaneous targets left over from the bad old
		imake days.

Tue May  2 21:26:09 1995  Tom Yu  (tlyu@dragons-lair)

	* .rconf: copy kadmin.old as well

	* Makefile.in: nuke spurious whitespace on blank line

Sat Apr 29 14:13:45 1995  Ezra Peisach  (epeisach@kangaroo.mit.edu)

	* aclocal.m4 (WITH_KRB4): fix so configure --help looks nice.

Fri Apr 28 15:27:45 EDT 1995	Paul Park	(pjpark@mit.edu)
	* aclocal.m4 (WITH_KRB4): fix KDB4_LIB location when --with-krb4
		has a value.

Fri Apr 28 11:38:09 1995 Keith Vetter (keithv@fusion.com)

	* Makefile.in: new windows gss app added to the zip target.

Thu Apr 27 18:30:00 1995  Keith Vetter <keithv@fusion.com>

	* Makefile.in: have ZIP exclude any *.zip files it finds.

Fri Apr 28 14:34:17 1995  Mark Eichin  <eichin@cygnus.com>

	* aclocal.m4 (WITH_KRB4): put AC_CONST in, since we always end up
	needing it.

Fri Apr 28 13:28:02 1995  Theodore Y. Ts'o  <tytso@dcl>

	* configure.in: Also compile the kadmin.old directory, at least
		for now.  (At some point this should be controlled by
		--enable-old-kadmin).

Fri Apr 28 09:33:52 1995  Theodore Y. Ts'o  (tytso@dcl)

	* Makefile.in: Also remove util/profile/prof_err.[ch] after
		building kerbsrc.zip, since this also screws up the Unix
		build. 

Fri Apr 28 02:03:56 1995  Mark W. Eichin  <eichin@cygnus.com>

	* aclocal.m4 (WITH_KRB4): fix quoting in pathname case.

Thu Apr 27 23:21:08 1995  Theodore Y. Ts'o  (tytso@dcl)

	* Makefile.in: Remove util/profile/profile.h after building
		kerbsrc.zip; this file screws up the Unix build.

Thu Apr 27 17:54:05 1995  Mark Eichin  <eichin@cygnus.com>

	* configure.in: check KRB4_LIB to know if we're building with krb4
	support enabled and thus want kadmin.v4.

Thu Apr 27 14:00:00 1995  Keith Vetter (keithv@fusion.com)

	* Makefile.in: bug fix in makeing makefile on the PC.

Thu Apr 27 15:19:34 1995  Mark Eichin  <eichin@cygnus.com>

	* aclocal.m4 (WITH_KRB4): make --with-krb4 the default, and have
	it use the included krb4 directories. If a pathname is given, use
	them instead. To disable krb4 support, use --without-krb4.

Wed Apr 27 11:00:00 1995 Keith Vetter (keithv@fusion.com)

	* Makefile.in: added stuff for new directory: util/profile. This
	   affects configuring, building, cleaning and zipping.
	* Makefile.in: added ren2long target to expand 8.3 shortened names.

Wed Apr 26 14:29:03 1995  Mark Eichin  <eichin@cygnus.com>

	* aclocal.m4 (HAS_ANSI_VOLATILE): define it here for kdc and
	kadmin.old to use.

Mon Apr 24 13:30:00 1995 Keith Vetter (keithv@fusion.com)

	* Makefile.in: Fixed a PC work-around for doing a touch command.

Thu Apr 20 17:55:50 1995  Mark Eichin  <eichin@cygnus.com>

	* aclocal.m4 (.ct.c): use $(RM) instead of plain rm.

Thu Apr 20 12:45:07 1995 Keith Vetter (keithv@fusion.com)

	* Makefile.in: bug that makefiles were always being reconfigured.

Wed Apr 19 18:32:04 1995 Keith Vetter (keithv@fusion.com)

	* Makefile.in: 
           removed need for this file to be configured on the PC.
           zipping up for PC copies makefile.in to makefile so that on
	   the PC you just need to type 'nmake' to build it.

Fri Apr 14 21:21:28 1995  Theodore Y. Ts'o  <tytso@lurch.mit.edu>

	* aclocal.m4 (_MAKE_SUBDIRS): If there is an error while making in
	        a subdirectory, abort the make in the parent directory.
	        This makes it more obvious when we have a problem in the
	        tree.

Fri Apr 14 08:23:52 1995  Theodore Y. Ts'o  (tytso@dcl)

	* aclocal.m4 (MAKE_SUBDIRS, _MAKE_SUBDIRS): Creatre new macro
		_MAKE_SUBDIRS which works like MAKE_SUBDIRS except that it
		is possible for the target name in the parent Makefile and
		the target name which should be built in each of the
		subdirectories can be different.  MAKE_SUBDIRS is now a
		special case of _MAKE_SUBDIRS.

Fri Mar 31 21:27:13 1995  Theodore Y. Ts'o  (tytso@dcl)

	* aclocal.m4: Use the local autoconf when rebuilding the configure
		script. 

Tue Mar 28 18:55:12 1995  John Gilmore  (gnu at toad.com)

	* Makefile.in:  Fix up Mac build process somewhat.  Not complete.

Mon Mar 27 20:02:01 1995 Keith Vetter (keithv@fusion.com)

	* Makefile.in: added making and zipping in windows/wintel.

Wed Mar 24 14:00:00 1995  Keith Vetter (keithv@fusion.com)

	* Makefile.in: changed zip-windows target to kerbsrc.zip, and also
	   had the windows makefile config clean up any debugging files.

Tue Mar 22 12:00:00 1995  Keith Vetter (keithv@fusion.com)

	* Makefile.in: added all-mac target.

Tue Mar 22 12:00:00 1995  Keith Vetter (keithv@fusion.com)

	* Makefile.in: zipping up for the PC now handles trees containing
	   binary files such as *.o and *.a.

Tue Mar 21 18:50:00 1995 Keith Vetter (keithv@fusion.com)

	* Makefile.in: oops, missed a directory in zipping up for the PC

Tue Mar 21 18:38:12 1995 Keith Vetter (keithv@fusion.com)

	* Makefile.in: more PC stuff including zipping up source commands.

Sun Mar 19 12:45:08 1995  John Gilmore  (gnu at toad.com)

	* aclocal.m4 (CHECK_STDARG):  Remove; we're just using AC_HEADER_CHECK.
	(V5_AC_OUTPUT_MAKEFILE):  Reorder the Makefile output so that it can be
	run through `sed' for the Macintosh.
	* acconfig.h:  Remove STDARG_PROTOTYPES.

Thu Mar 16 15:15:00 1995 Keith Vetter <keithv@fusion.com>

	* Makefile.in: added PC stuff so it builds the whole world.
	* wconfig.h: program to configure makefiles on the PC.
	* CHANGELOG -> CHANGES: renamed to avoid PC name conflict.

Tue Mar  7 19:49:07 1995  Mark Eichin  <eichin@cygnus.com>

	* aclocal.m4 (UsePepsy, PepsyTarget): removed, not referenced
	anywhere in the tree.
	(ISODE_INCLUDE, ISODE_DEFS): removed along with remaining
	references in the tree. --enable-isode is dead.

Wed Mar  1 16:40:23 1995  Theodore Y. Ts'o  <tytso@dcl>

	* acconfig.h: Add HAS_LABS defintiion.

	* aclocal.m4 (KRB_INCLUDE): Add $(SRCTOP)/include/krb5 so that it
		builds when the build tree != the source tree.

	* aclocal.m4, configure.in: Folded in Ezra's changes to support
		--with-netlib, for support of the SGI's.

Tue Feb 28 00:00:22 1995  John Gilmore  (gnu at toad.com)

	* aclocal.m4 (ADD_DEF):  Add -I...include/krb5 so we won't need
	pathnames to Kerberos include files in any of the #include lines
	in the source tree.

Mon Feb 13 23:39:21 1995  Theodore Y. Ts'o  (tytso@dcl)

	* aclocal.m4 (WITH_LINKER): Add a new configure production which
		allows a special linker to be specified.  Useful for
		running programs like Purify, etc.		

Thu Feb 9 15:42:00 1995 Keith Vetter (keithv@fusion.com)

	* acconfig.h: added HAS_SYS_FILE_H & HAS_SYS_PARAM_H for Windows

Thu Feb  2 21:11:24 1995  Mark Eichin  (eichin@cygnus.com)

	* aclocal.m4 (V5_AC_OUTPUT_MAKEFILE): delete pre.out,
	Makefile.out, and post.out immediately after using them, for
	cleanliness' sake.

Fri Feb  3 06:47:24 1995  Theodore Y. Ts'o  (tytso@dcl)

	* acconfig.h: Remove BITS* definitions altogether.

	* aclocal.m4:
	* configure.in: Remove ISODE defines

Fri Dec 30 17:05:12 1994  Richard Basch  (probe@tardis)

	* aclocal.m4
	  	CHECK_UTMP needs to #include <sys/types.h> for its tests

Tue Dec 27 06:10:13 1994  Richard Basch  (probe@tardis)

	* aclocal.m4
	combined KRB5_UTPID, KRB5_UTTYPE, and KRB5_UTHOST
	into CHECK_UTMP macro (and added additional checks)


Wed Nov 30 17:13:02 1994  Theodore Y. Ts'o  (tytso@dcl)

	* aclocal.m4, configure.in: Add appropriate help text for the
		--with-* and --enable-* options.  ISODE_INCLUDES should
		define KRB5_USE_ISODE if necessary.

	* acconfig.h: Add defines for KRB5_ATHENA_COMPAT and
		KRB5_KRB4_COMPAT.

Fri Nov 18 15:38:42 1994  Mark Eichin  <eichin@cygnus.com>

	* aclocal.m4 (CHECK_WAIT_TYPE, CHECK_SIGNALS, CHECK_SETJMP,
	KRB5_UTPID, KRB5_UTTYPE, KRB5_UTHOST, KRB5_UTEXIT): use
	AC_TRY_COMPILE instead of AC_TRY_LINK.
	(CHECK_FCNTL): check for 1+O_RDONLY so we aren't fooled into
	declaring it as a local variable.
	(DECLARE_SYS_ERRLIST): same thing for 1+sys_nerr.

Fri Nov 18 00:31:43 1994  Mark Eichin  <eichin@cygnus.com>

	* aclocal.m4 (ET_RULES): don't define SRCTOP, pre.in already takes
	care of it.
	(DECLARE_SYS_ERRLIST, CHECK_SIGPROCMASK, CHECK_FCNTL,
	CHECK_WAIT_TYPE, CHECK_SIGNALS, CHECK_SETJMP, HAVE_YYLINENO): add
	caching.
	(WITH_KRB5ROOT, WITH_KRB4, WITH_CC, WITH_CCOPTS, WITH_CPPOPTS):
	use AC_MSG_RESULT instead of echo.
	(KRB5_UTPID, KRB5_UTTYPE, KRB5_UTHOST, KRB5_UTEXT): new functions
	for appl/bsd and kpasswd common utmp code.
	(KRB5_POSIX_LOCKS): new functions for include/krb5 and appl/popper
	common code.
	(from epeisach.)

Fri Nov 18 00:30:19 1994  Mark Eichin  <eichin@cygnus.com>

	* aclocal.m4 (CONFIG_RULES): handle pre.in, post.in, and pass the
	rest of the arguments that autoconf needs. (from epeisach.)

Fri Nov 18 00:22:18 1994  Mark Eichin  <eichin@cygnus.com>

	* aclocal.m4 (CopySrcHeader): add clean rule (from epeisach)

Mon Nov  7 21:27:45 1994  Theodore Y. Ts'o  (tytso@dcl)

	* aclocal.m4 (CHECK_SETJMP, CHECK_SIGNALS): Added checks for POSIX
		setjmp handling and POSIX signal handling.

Wed Nov  2 20:39:14 1994  Theodore Y. Ts'o  (tytso@dcl)

	* Makefile.in: We're probably not going to be building in the
		top-level directory, but even so, the CFLAGS should
		include $(DEFS).

	* aclocal.m4: Don't recursively pass the CPPOPTS makefile variable
		down to subdirectories.

	* aclocal.m4 (CONFIG_RULES, WITH_CPPOPTS): Add support for a new
		"--with-cppopts" value where you can put -DXXXXX such that
		they are found by autoconf tests that use run the
		preprocessor over header files.

Sat Oct 22 13:25:18 1994    (tytso@rsx-11)

	* aclocal.m4 (CopyHeader): Remove header file from include
		directory when doing a make clean.

Tue Oct 11 17:07:15 1994  Theodore Y. Ts'o  (tytso@dcl)

	* aclocal.m4: Make sure we do our feature tests using the CC
		options specified using CC_OPTS.

Fri Oct  7 16:38:11 1994  Theodore Y. Ts'o  (tytso@maytag)

	* aclocal.m4: If using isode we need to add -DKRB5_USE_ISODE to
		$DEFS, not KRB5_USE_ISODE!

Thu Oct  6 20:05:07 1994  Theodore Y. Ts'o  (tytso@dcl)

	* configure.in: Add recursive "make check" target.

Mon Oct  3 22:50:07 1994  Theodore Y. Ts'o  (tytso@dcl)

	* Makefile.in: make install obey $(DESTDIR)

Fri Sep 30 18:49:41 1994  Mark Eichin  (eichin@cygnus.com)

	* aclocal.m4 (CONFIG_RULES): set SHELL=/bin/sh explicitly, as per
	GCS and to deal with SGI and OSF makes. This should cover all
	Makefiles.

Thu Aug 18 02:05:14 1994  Mark Eichin  (eichin@perdiem)

	* .../*.[ch]: remove rcsid, sccsid strings; punt all RCS variable
	expansions; get rid of LIBC_SCCS. Leave the BSD sccs variables in
	comments, for historical reference.

Thu Aug  4 03:11:13 1994  Tom Yu  (tlyu@dragons-lair)

	* aclocal.m4: fixed up Krb5InstallHeaders to use INSTALL_DATA
	properly
	* Makefile.in: fix mkdir breakage for install target

Wed Jul 20 00:00:00 1994  Tom Yu  (tlyu at dragons-lair)

	* Makefile.in (in all relevant subdirs):
	* configure.in (in all relevant subdirs): changes to fix make
	install
	* aclocal.m4: make changes to look for install.sh in the right
	places

Mon Jul 11 23:32:51 1994  Tom Yu  (tlyu at dragons-lair)

	* aclocal.m4: cleaning up stuff to not echo things like "if
	foo..."

Sun Jul  3 07:46:25 1994  Tom Yu  (tlyu at dragons-lair)

	* aclocal.m4: fixing things so we don't have to bother ignoring
	errors.

Fri Jul  1 13:01:19 1994  Mark Eichin  (eichin@cygnus.com)

	* aclocal.m4: added WITH_CC for use when CONFIG_RULES isn't safe.
	added EXTRA_RULES_IN for chosing the file that the extra rules get
	appended to (particularly for lib/krb5/asn.1).
	made CONFIG_RULES use WITH_CC directly.

Fri Jul  1 02:21:51 1994  Tom Yu  (tlyu at dragons-lair)

	* aclocal.m4: fixes for dealing with new version of autoconf, in
	particular quoting and BUILDTOP

Wed Jun 29 01:36:38 1994  Tom Yu  (tlyu at dragons-lair)

	* aclocal.m4: oops... fixing some problems with the quoter.

	* aclocal.m4: added ISODE_DEFS to define KRB5_USE_ISODE if
	--enable-isode is given

Mon Jun 27 23:13:16 1994  Theodore Y. Ts'o  (tytso at tsx-11)

	* patchlevel.h: Updated to patchlevel 1.

Mon Jun 27 08:21:42 1994  Tom Yu  (tlyu at dragons-lair)

	* aclocal.m4: fixes to do sane quoting of arguments before
	recursing.  This allows options to be set with values containing
	whitespace, for instance.

	* configure.in (in all relevant subdirs): move invokations of
	CONFIG_RULES around so that they preceed anything that even
	vaguely resembles a compile test.  This is so that $CC will get
	set properly before any compile tests run.

Sat Jun 25 00:33:56 1994  Tom Yu  (tlyu at dragons-lair)

	* Makefile.in (in all relevant subdirs): make install will dtrt
	now (mostly)
	* configure.in (in all relevant subdirs): ditto

Thu Jun 23 01:13:20 1994  Tom Yu  (tlyu at dragons-lair)

	* aclocal.m4 (CONFIG_RULES): make --with-cc= dtrt and default to
	CC=cc

Wed Jun 22 16:34:46 1994  Mark Eichin  (eichin at tweedledumber.cygnus.com)

	* aclocal.m4 (CONFIG_RULES): add AC_SUBST([CC]) so that CC gets
	nailed in correctly.

Tue Jun 21 17:46:53 1994  Mark Eichin  (eichin at cygnus.com)

	* Makefile.in (in all subdirs): added CC=@CC@ to nail down the
	substitution to be sure that configuration matches build. Added
	CCOPTS to some of them so that it gets nailed in correctly too.

Tue Jun 21 02:08:27 1994  Tom Yu  (tlyu at dragons-lair)

	* Makefile.in (in all relevant subdirs): added CCOPTS=@CCOPTS@ in
	order to allow for configured default flags
	* configure.in (in all relevant subdirs): add WITH_CCOPTS
	* acloca.m4: define WITH_CCOPTS

Fri Jun 17 19:54:00 1994  Mark Eichin  (eichin at cygnus.com)

	* aclocal.m4 (MAKE_SUBDIRS): pass CCOPTS, CC in every make
	* Makefile.in: change CFLAGS = -g ... to CFALGS = $(CCOPTS) ...
	  in all Makefile.in's throughout the tree.
