# Partial configuration file example for libkrb5 with DNSSEC through Unbound

[libdefaults]

    # Define your default realm if DNSSEC cannot find it under FQDN gethostname()
    default_realm = MYREALM

    # Defaults: host-to-realm lookup disabled for plain DNS, enabled for DNSSEC
    dns_lookup_realm = false
    dnssec_lookup_realm = true

    # Need to provide DNS root trust anchor to the Unbound implementation of DNSSEC
    dnssec_trust_anchor_unbound = /etc/unbound/root.key

[plugins]

    # Use k5dnssec.so module as hostrealm plugin, and select its unbound backend
    # It is advised to disable the builtin DNS plugin for host-to-realm lookups
    hostrealm = {
        module = unbound:/path/to/k5dnssec.so
        disable = dns
        # enable_only = unbound
    }

    # Resolving the default realm is supported if gethostname() returns a FQDN

    # Future implementations of DNSSEC may be added later, such as
    # hostrealm = { module = getdns:/path/to/k5dnssec.so }

    # Future plugins for DNS such as KDC lookups may be added too, as in
    # kdclocate = { module = unbound:/path/to/k5dnssec.so }

