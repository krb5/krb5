CFLAGS = $(CCOPTS) $(DEFS)

##DOSBUILDTOP = ..\..\..
##DOSMYNAME=free
##DOSOBJFILE=..\$(MYNAME).lst
##WIN16##LIBNAME=..\krb5.lib

STLIBOBJS= \
	f_addr.o	\
	f_address.o	\
	f_ap_rep.o	\
	f_ap_req.o	\
	f_arep_enc.o	\
	f_authdata.o	\
	f_authent.o	\
	f_auth_cnt.o	\
	f_chksum.o	\
	f_cred.o	\
	f_cred_cnt.o	\
	f_cred_enc.o	\
	f_creds.o	\
	f_data.o	\
	f_enc_kdc.o	\
	f_enc_tkt.o	\
	f_einfo.o	\
	f_error.o	\
	f_kdc_rp.o	\
	f_kdc_rq.o	\
	f_keyblock.o	\
	f_last_req.o	\
	f_padata.o	\
	f_princ.o	\
	f_priv.o	\
	f_priv_enc.o	\
	f_safe.o	\
	f_tckt.o	\
	f_tckts.o	\
	f_tgt_cred.o	\
	f_tkt_auth.o	\
	f_pwd_data.o	\
	f_pwd_seq.o	\
	f_unparse.o

OBJS=	\
	f_addr.$(OBJEXT)	\
	f_address.$(OBJEXT)	\
	f_ap_rep.$(OBJEXT)	\
	f_ap_req.$(OBJEXT)	\
	f_arep_enc.$(OBJEXT)	\
	f_authdata.$(OBJEXT)	\
	f_authent.$(OBJEXT)	\
	f_auth_cnt.$(OBJEXT)	\
	f_chksum.$(OBJEXT)	\
	f_cred.$(OBJEXT)	\
	f_cred_cnt.$(OBJEXT)	\
	f_cred_enc.$(OBJEXT)	\
	f_creds.$(OBJEXT)	\
	f_data.$(OBJEXT)	\
	f_enc_kdc.$(OBJEXT)	\
	f_enc_tkt.$(OBJEXT)	\
	f_einfo.$(OBJEXT)	\
	f_error.$(OBJEXT)	\
	f_kdc_rp.$(OBJEXT)	\
	f_kdc_rq.$(OBJEXT)	\
	f_keyblock.$(OBJEXT)	\
	f_last_req.$(OBJEXT)	\
	f_padata.$(OBJEXT)	\
	f_princ.$(OBJEXT)	\
	f_priv.$(OBJEXT)	\
	f_priv_enc.$(OBJEXT)	\
	f_safe.$(OBJEXT)	\
	f_tckt.$(OBJEXT)	\
	f_tckts.$(OBJEXT)	\
	f_tgt_cred.$(OBJEXT)	\
	f_tkt_auth.$(OBJEXT)	\
	f_pwd_data.$(OBJEXT)	\
	f_pwd_seq.$(OBJEXT)	\
	f_unparse.$(OBJEXT)

SRCS=	\
	$(srcdir)/f_addr.c	\
	$(srcdir)/f_address.c	\
	$(srcdir)/f_arep_enc.c	\
	$(srcdir)/f_ap_rep.c	\
	$(srcdir)/f_ap_req.c	\
	$(srcdir)/f_authdata.c	\
	$(srcdir)/f_authent.c	\
	$(srcdir)/f_auth_cnt.c	\
	$(srcdir)/f_chksum.c	\
	$(srcdir)/f_cred.c	\
	$(srcdir)/f_cred_cnt.c	\
	$(srcdir)/f_cred_enc.c	\
	$(srcdir)/f_creds.c	\
	$(srcdir)/f_data.c	\
	$(srcdir)/f_enc_kdc.c	\
	$(srcdir)/f_enc_tkt.c	\
	$(srcdir)/f_einfo.c	\
	$(srcdir)/f_error.c	\
	$(srcdir)/f_kdc_rp.c	\
	$(srcdir)/f_kdc_rq.c	\
	$(srcdir)/f_keyblock.c	\
	$(srcdir)/f_last_req.c	\
	$(srcdir)/f_padata.c	\
	$(srcdir)/f_princ.c	\
	$(srcdir)/f_priv.c	\
	$(srcdir)/f_priv_enc.c	\
	$(srcdir)/f_safe.c	\
	$(srcdir)/f_tckt.c	\
	$(srcdir)/f_tckts.c	\
	$(srcdir)/f_tgt_cred.c	\
	$(srcdir)/f_tkt_auth.c	\
	$(srcdir)/f_pwd_data.c	\
	$(srcdir)/f_pwd_seq.c	\
	$(srcdir)/f_unparse.c

all-windows:: $(OBJFILE)

##DOS$(OBJFILE): $(OBJS)
##DOS	$(RM) $(OBJFILE)
##WIN16##	$(CP) nul: $(OBJFILE)
##WIN32##	$(LIBECHO) -p $(MYNAME)\ *.obj > $(OBJFILE)

all-unix:: all-libobjs

clean-unix:: clean-libobjs

clean-windows::
	$(RM) $(OBJFILE)
